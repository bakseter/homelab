argo-cd:
  global:
    revisionHistoryLimit: 5
    networkPolicy:
      create: true

  configs:
    repositories:
      argocd:
        url: https://github.com/bakseter/homelab.git

    params:
      server.insecure: true

    cm:
      url: https://argocd.tail79d70a.ts.net

      admin.enabled: false
      dex.config: |
        connectors:
          - type: authproxy
            id: tailscale
            name: Proxy
            config:
              userHeader: Tailscale-User-Login

    rbac:
      scopes: '[groups, email]'
      policy.default: ''
      policy.csv: |
        p, role:org-admin, *, get, *, allow
        p, role:org-admin, applications, sync, *, allow
        p, role:org-admin, applicationsets, sync, *, allow
        g, bakseter@github, role:org-admin

    dex:
      enabled: true

  notifications:
    enabled: false

  redis-ha:
    enabled: true

  controller:
    replicas: 1

  server:
    replicas: 2

  repoServer:
    replicas: 2

  applicationSet:
    replicas: 2
